<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Week 3 - Data Cleaning, Organizing, Describing, and Communicating | ENGE 5714 Course Notes 2021</title>
  <meta name="description" content="This is a test for organizing course notes in bookdown. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Week 3 - Data Cleaning, Organizing, Describing, and Communicating | ENGE 5714 Course Notes 2021" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a test for organizing course notes in bookdown. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Week 3 - Data Cleaning, Organizing, Describing, and Communicating | ENGE 5714 Course Notes 2021" />
  
  <meta name="twitter:description" content="This is a test for organizing course notes in bookdown. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="A. Katz" />


<meta name="date" content="2021-02-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week-2-intro-stats-data-distributions-intro-r-rstudio.html"/>
<link rel="next" href="applications.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Notes for ENGE 5714 in Spring 2021.</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Week 1</a></li>
<li class="chapter" data-level="3" data-path="week-2-intro-stats-data-distributions-intro-r-rstudio.html"><a href="week-2-intro-stats-data-distributions-intro-r-rstudio.html"><i class="fa fa-check"></i><b>3</b> Week 2 - Intro stats, Data &amp; Distributions, Intro R &amp; RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="week-2-intro-stats-data-distributions-intro-r-rstudio.html"><a href="week-2-intro-stats-data-distributions-intro-r-rstudio.html#very-basics"><i class="fa fa-check"></i><b>3.1</b> Very basics</a></li>
<li class="chapter" data-level="3.2" data-path="week-2-intro-stats-data-distributions-intro-r-rstudio.html"><a href="week-2-intro-stats-data-distributions-intro-r-rstudio.html#getting-your-r-environment-set-up"><i class="fa fa-check"></i><b>3.2</b> Getting your R environment set up</a></li>
<li class="chapter" data-level="3.3" data-path="week-2-intro-stats-data-distributions-intro-r-rstudio.html"><a href="week-2-intro-stats-data-distributions-intro-r-rstudio.html#reading-in-data"><i class="fa fa-check"></i><b>3.3</b> Reading in data</a></li>
<li class="chapter" data-level="3.4" data-path="week-2-intro-stats-data-distributions-intro-r-rstudio.html"><a href="week-2-intro-stats-data-distributions-intro-r-rstudio.html#exploring-the-data"><i class="fa fa-check"></i><b>3.4</b> Exploring the data</a></li>
<li class="chapter" data-level="3.5" data-path="week-2-intro-stats-data-distributions-intro-r-rstudio.html"><a href="week-2-intro-stats-data-distributions-intro-r-rstudio.html#plotting-data"><i class="fa fa-check"></i><b>3.5</b> Plotting data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html"><i class="fa fa-check"></i><b>4</b> Week 3 - Data Cleaning, Organizing, Describing, and Communicating</a>
<ul>
<li class="chapter" data-level="4.1" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#one-continuous-variable-either-predictor-or-outcome-variable"><i class="fa fa-check"></i><b>4.1</b> One continuous variable (either predictor or outcome variable)</a></li>
<li class="chapter" data-level="4.2" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#one-discrete-variable-either-predictor-or-outcome"><i class="fa fa-check"></i><b>4.2</b> One Discrete Variable (either predictor or outcome)</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#joining-two-datasets"><i class="fa fa-check"></i><b>4.2.1</b> Joining two datasets</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#discrete-predictor-continuous-outcome"><i class="fa fa-check"></i><b>4.3</b> Discrete Predictor, Continuous Outcome</a></li>
<li class="chapter" data-level="4.4" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#continuous-predictor-and-continuous-outcome"><i class="fa fa-check"></i><b>4.4</b> Continuous predictor and continuous outcome</a></li>
<li class="chapter" data-level="4.5" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#mutating-variables"><i class="fa fa-check"></i><b>4.5</b> Mutating Variables</a></li>
<li class="chapter" data-level="4.6" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#filtering-and-selecting"><i class="fa fa-check"></i><b>4.6</b> Filtering and Selecting</a></li>
<li class="chapter" data-level="4.7" data-path="week-3-data-cleaning-organizing-describing-and-communicating.html"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#grouping-and-summarizing"><i class="fa fa-check"></i><b>4.7</b> Grouping and Summarizing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>5</b> Applications</a>
<ul>
<li class="chapter" data-level="5.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>5.1</b> Example one</a></li>
<li class="chapter" data-level="5.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>5.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ENGE 5714 Course Notes 2021</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week-3---data-cleaning-organizing-describing-and-communicating" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Week 3 - Data Cleaning, Organizing, Describing, and Communicating</h1>
<div id="one-continuous-variable-either-predictor-or-outcome-variable" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> One continuous variable (either predictor or outcome variable)</h2>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb24-1" aria-hidden="true"></a>num &lt;-<span class="st"> </span><span class="dv">50</span></span>
<span id="cb24-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb24-2" aria-hidden="true"></a>mu &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb24-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb24-3" aria-hidden="true"></a>stdev &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb24-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb24-4" aria-hidden="true"></a></span>
<span id="cb24-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb24-5" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> num, <span class="dt">mean =</span> mu, <span class="dt">sd =</span> stdev)</span>
<span id="cb24-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb24-6" aria-hidden="true"></a><span class="kw">hist</span>(x)</span></code></pre></div>
<p>You can also do this using ggplot rather than base R graphics</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-1" aria-hidden="true"></a>num &lt;-<span class="st"> </span><span class="dv">50</span></span>
<span id="cb25-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-2" aria-hidden="true"></a>mu &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb25-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-3" aria-hidden="true"></a>stdev &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb25-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-4" aria-hidden="true"></a></span>
<span id="cb25-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-5" aria-hidden="true"></a>x_vec &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> num, <span class="dt">mean =</span> mu, <span class="dt">sd =</span> stdev)</span>
<span id="cb25-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-6" aria-hidden="true"></a>x_df &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x_col =</span> x_vec)</span>
<span id="cb25-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-7" aria-hidden="true"></a></span>
<span id="cb25-8"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-8" aria-hidden="true"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> x_df, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x)) <span class="op">+</span></span>
<span id="cb25-9"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb25-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="test_course_notes_files/figure-html/ggplot-hist-1.png" width="672" /></p>
<p>You can use geom_density() instead of geom_histogram() to get a smooth graph</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-1" aria-hidden="true"></a>num &lt;-<span class="st"> </span><span class="dv">50</span></span>
<span id="cb27-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-2" aria-hidden="true"></a>mu &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb27-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-3" aria-hidden="true"></a>stdev &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb27-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-4" aria-hidden="true"></a></span>
<span id="cb27-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-5" aria-hidden="true"></a>x_vec &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> num, <span class="dt">mean =</span> mu, <span class="dt">sd =</span> stdev)</span>
<span id="cb27-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-6" aria-hidden="true"></a>x_df &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x_col =</span> x_vec)</span>
<span id="cb27-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-7" aria-hidden="true"></a></span>
<span id="cb27-8"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-8" aria-hidden="true"></a></span>
<span id="cb27-9"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-9" aria-hidden="true"></a></span>
<span id="cb27-10"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-10" aria-hidden="true"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> x_df, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x_col)) <span class="op">+</span></span>
<span id="cb27-11"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb27-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_density</span>()</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb28-1" aria-hidden="true"></a>x_df <span class="op">%&gt;%</span></span>
<span id="cb28-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb28-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x_col)) <span class="op">+</span></span>
<span id="cb28-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb28-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_density</span>()</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb29-1" aria-hidden="true"></a>x_df <span class="op">%&gt;%</span></span>
<span id="cb29-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb29-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(x_col)) <span class="op">+</span></span>
<span id="cb29-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb29-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_density</span>()</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-13-3.png" width="672" /></p>
<p>Just for fun, look at what happens to the the plot if you increase the sample size</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-1" aria-hidden="true"></a>num &lt;-<span class="st"> </span><span class="dv">5000</span></span>
<span id="cb30-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-2" aria-hidden="true"></a>mu &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb30-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-3" aria-hidden="true"></a>stdev &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb30-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-4" aria-hidden="true"></a></span>
<span id="cb30-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-5" aria-hidden="true"></a>x_vec &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> num, <span class="dt">mean =</span> mu, <span class="dt">sd =</span> stdev)</span>
<span id="cb30-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-6" aria-hidden="true"></a>x_df &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x_col =</span> x_vec)</span>
<span id="cb30-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-7" aria-hidden="true"></a></span>
<span id="cb30-8"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-8" aria-hidden="true"></a></span>
<span id="cb30-9"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-9" aria-hidden="true"></a></span>
<span id="cb30-10"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-10" aria-hidden="true"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> x_df, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x_col)) <span class="op">+</span></span>
<span id="cb30-11"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb30-11" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_density</span>()</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="one-discrete-variable-either-predictor-or-outcome" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> One Discrete Variable (either predictor or outcome)</h2>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb31-1" aria-hidden="true"></a><span class="co">## load in the data</span></span>
<span id="cb31-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb31-2" aria-hidden="true"></a>survey_df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;ENGE_5714_2021_pre_survey.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character(),
##   student_id = col_double()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb34-1" aria-hidden="true"></a>survey_df &lt;-<span class="st"> </span>survey_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">clean_names</span>()</span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb35-1" aria-hidden="true"></a>survey_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb35-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> i_have_taken_a_quantitative_research_methods_course_before)) <span class="op">+</span></span>
<span id="cb35-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb35-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_bar</span>()</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/geom-bar-1.png" width="672" /></p>
<p>Notice that the ordering is not quite what we would want. It is alphabetical. Try to find how we can fix this.</p>
<p>Here is one way:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-1" aria-hidden="true"></a>q_levels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Strongly disagree&quot;</span>, <span class="st">&quot;Somewhat disagree&quot;</span>, <span class="st">&quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb36-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-2" aria-hidden="true"></a>              <span class="st">&quot;Somewhat agree&quot;</span>, <span class="st">&quot;Strongly agree&quot;</span>)</span>
<span id="cb36-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-3" aria-hidden="true"></a></span>
<span id="cb36-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-4" aria-hidden="true"></a></span>
<span id="cb36-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-5" aria-hidden="true"></a></span>
<span id="cb36-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-6" aria-hidden="true"></a>survey_df<span class="op">$</span>i_have_taken_a_quantitative_research_methods_course_before &lt;-<span class="st"> </span><span class="kw">factor</span>(survey_df<span class="op">$</span>i_have_taken_a_quantitative_research_methods_course_before, </span>
<span id="cb36-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-7" aria-hidden="true"></a>                                                                               <span class="dt">levels =</span> q_levels,</span>
<span id="cb36-8"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-8" aria-hidden="true"></a>                                                                               <span class="dt">ordered =</span> <span class="ot">TRUE</span>)</span>
<span id="cb36-9"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-9" aria-hidden="true"></a></span>
<span id="cb36-10"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-10" aria-hidden="true"></a></span>
<span id="cb36-11"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-11" aria-hidden="true"></a><span class="co">## Now try plotting</span></span>
<span id="cb36-12"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-12" aria-hidden="true"></a></span>
<span id="cb36-13"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-13" aria-hidden="true"></a>survey_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb36-14"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-14" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> i_have_taken_a_quantitative_research_methods_course_before)) <span class="op">+</span></span>
<span id="cb36-15"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-15" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></span>
<span id="cb36-16"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-16" aria-hidden="true"></a><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb36-17"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-17" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;I have taken a quantitative research methods course before&quot;</span>,</span>
<span id="cb36-18"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-18" aria-hidden="true"></a>       <span class="dt">y =</span> <span class="st">&quot;Count&quot;</span>,</span>
<span id="cb36-19"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb36-19" aria-hidden="true"></a>       <span class="dt">title =</span> <span class="st">&quot;Reordered Example&quot;</span>)</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div id="joining-two-datasets" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Joining two datasets</h3>
<p>Let’s imagine that we have a separate dataset that has information about the students who completed the pre-course prior knowledge survey.</p>
<p>First, we will load in that dataset</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb37-1" aria-hidden="true"></a>survey_info_df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;survey_student_info.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   student_id = col_double(),
##   standing = col_character(),
##   college = col_character(),
##   required = col_character()
## )</code></pre>
<p>Next, let’s join the two datasets based on the student id column, which is in each of the two dataframes.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb39-1" aria-hidden="true"></a>survey_df &lt;-<span class="st"> </span>survey_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">inner_join</span>(survey_info_df, <span class="dt">by =</span> <span class="st">&quot;student_id&quot;</span>)</span></code></pre></div>
<p>Now we should have both datasets joined into one and saved as survey_df.</p>
<p>With this, we can make some nicer plots and do something like use facet_grid() to look at students who are masters and doctoral students, for example.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb40-1" aria-hidden="true"></a>survey_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb40-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb40-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> i_have_taken_a_quantitative_research_methods_course_before)) <span class="op">+</span></span>
<span id="cb40-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb40-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></span>
<span id="cb40-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb40-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">facet_grid</span>(standing <span class="op">~</span>.) <span class="op">+</span></span>
<span id="cb40-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb40-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;I have taken a quantitative research methods course before&quot;</span>,</span>
<span id="cb40-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb40-6" aria-hidden="true"></a>       <span class="dt">y =</span> <span class="st">&quot;Count&quot;</span>,</span>
<span id="cb40-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb40-7" aria-hidden="true"></a>       <span class="dt">title =</span> <span class="st">&quot;Reordered Example&quot;</span>)</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>The x axis looks a little crowded. What if we try coord_flip()</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-1" aria-hidden="true"></a>survey_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb41-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(standing <span class="op">==</span><span class="st"> &quot;doctoral&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb41-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> i_have_taken_a_quantitative_research_methods_course_before)) <span class="op">+</span></span>
<span id="cb41-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></span>
<span id="cb41-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb41-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">facet_grid</span>(standing <span class="op">~</span>.) <span class="op">+</span></span>
<span id="cb41-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;I have taken a quantitative research methods course before&quot;</span>,</span>
<span id="cb41-8"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-8" aria-hidden="true"></a>       <span class="dt">y =</span> <span class="st">&quot;Count&quot;</span>,</span>
<span id="cb41-9"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb41-9" aria-hidden="true"></a>       <span class="dt">title =</span> <span class="st">&quot;Reordered Example&quot;</span>)</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>A quick note on filters</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb42-1" aria-hidden="true"></a>survey_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(required <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 12 x 52
##    student_id i_have_taken_a_~ i_am_interested~ i_know_what_a_t~ i_know_what_a_t~ i_know_what_a_s~
##         &lt;dbl&gt; &lt;ord&gt;            &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           
##  1          1 Somewhat disagr~ Somewhat agree   Strongly disagr~ Strongly disagr~ Somewhat disagr~
##  2          2 Strongly disagr~ Neither agree n~ Somewhat agree   Somewhat agree   Somewhat agree  
##  3          4 Somewhat disagr~ Strongly agree   Strongly disagr~ Strongly disagr~ Somewhat agree  
##  4          8 Somewhat agree   Somewhat agree   Somewhat agree   Somewhat agree   Somewhat agree  
##  5          9 Strongly disagr~ Strongly agree   Somewhat agree   Somewhat agree   Strongly agree  
##  6         11 Strongly disagr~ Strongly agree   Strongly disagr~ Strongly disagr~ Strongly disagr~
##  7         16 Strongly agree   Strongly agree   Somewhat agree   Somewhat agree   Somewhat agree  
##  8         17 Strongly disagr~ Strongly agree   Strongly disagr~ Strongly disagr~ Somewhat agree  
##  9         18 Somewhat disagr~ Somewhat agree   Somewhat disagr~ Somewhat disagr~ Somewhat agree  
## 10         20 Strongly disagr~ Neither agree n~ Neither agree n~ Neither agree n~ Neither agree n~
## 11         22 Strongly disagr~ Strongly agree   Strongly disagr~ Strongly disagr~ Somewhat disagr~
## 12         23 Somewhat agree   Strongly agree   Somewhat agree   Somewhat agree   Somewhat agree  
## # ... with 46 more variables: i_know_what_a_p_value_is &lt;chr&gt;, i_know_what_p_hacking_means &lt;chr&gt;,
## #   i_know_what_statistical_power_means &lt;chr&gt;, i_have_heard_of_frequentist_statistics_before &lt;chr&gt;,
## #   i_have_heard_of_bayesian_statistics_before &lt;chr&gt;,
## #   i_have_heard_the_term_parametric_statistics_before &lt;chr&gt;,
## #   i_have_heard_the_term_non_parametric_statistics_before &lt;chr&gt;, i_know_what_a_histogram_is &lt;chr&gt;,
## #   i_know_what_a_probability_distribution_is &lt;chr&gt;, i_know_what_a_random_variable_is &lt;chr&gt;,
## #   i_know_what_a_probability_distribution_function_is &lt;chr&gt;,
## #   i_know_what_a_cumulative_distribution_function_is &lt;chr&gt;,
## #   i_know_what_the_expectation_of_a_random_variable_is &lt;chr&gt;,
## #   i_know_how_to_calculate_the_variance_of_a_random_variable &lt;chr&gt;, i_know_what_a_z_score_is &lt;chr&gt;,
## #   i_know_how_to_calculate_the_correlation_between_two_variables &lt;chr&gt;,
## #   i_know_how_to_interpret_the_correlation_coefficient_between_two_variables &lt;chr&gt;,
## #   i_have_heard_of_linear_regression &lt;chr&gt;,
## #   i_know_how_to_run_a_linear_regression_in_some_software_or_by_hand_if_im_feeling_wild &lt;chr&gt;,
## #   i_know_how_to_interpret_a_linear_regression &lt;chr&gt;, i_have_heard_of_multiple_regression &lt;chr&gt;,
## #   i_know_how_to_perform_a_multiple_regression &lt;chr&gt;,
## #   i_know_how_to_interpret_a_multiple_regression &lt;chr&gt;, i_have_heard_of_logistic_regression &lt;chr&gt;,
## #   i_understand_when_to_use_a_logistic_regression &lt;chr&gt;,
## #   i_know_how_to_interpret_the_results_of_a_logistic_regression &lt;chr&gt;, i_have_heard_of_t_tests &lt;chr&gt;,
## #   i_have_performed_a_t_test_before &lt;chr&gt;, i_know_how_to_interpret_the_results_of_a_t_test &lt;chr&gt;,
## #   i_have_heard_of_analysis_of_variance &lt;chr&gt;,
## #   i_understand_when_to_run_an_analysis_of_variance_anova &lt;chr&gt;,
## #   i_know_how_to_interpret_the_results_from_an_anova &lt;chr&gt;, i_have_heard_of_a_chi_square_test &lt;chr&gt;,
## #   i_have_used_a_chi_square_test_before &lt;chr&gt;,
## #   i_know_how_to_interpret_the_results_of_a_chi_square_test &lt;chr&gt;,
## #   i_have_heard_of_cluster_analysis_before &lt;chr&gt;, i_have_used_cluster_analysis_before &lt;chr&gt;,
## #   i_know_how_to_interpret_the_results_of_a_cluster_analysis &lt;chr&gt;,
## #   i_have_heard_of_factor_analysis_either_exploratory_or_confirmatory &lt;chr&gt;,
## #   i_have_used_factor_analysis_either_exploratory_or_confirmatory &lt;chr&gt;,
## #   i_know_how_to_interpret_the_results_of_a_factor_analysis_either_exploratory_or_confirmatory &lt;chr&gt;,
## #   i_already_have_r_and_rstudio_downloaded_to_my_computer &lt;chr&gt;, i_have_used_r_before &lt;chr&gt;,
## #   standing &lt;chr&gt;, college &lt;chr&gt;, required &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb44-1" aria-hidden="true"></a>filtered_df &lt;-<span class="st"> </span>survey_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(required <span class="op">==</span><span class="st"> &quot;yes&quot;</span>)</span></code></pre></div>
<div id="a-little-more-about-plotting" class="section level4" number="4.2.1.1">
<h4><span class="header-section-number">4.2.1.1</span> A little more about plotting</h4>
<p>We are going to shift gears again and look at a few different kinds of plots. The main thing to remember here is that you want to think about whether the variables you have are nominal, ordinal, or continuous (that includes interval and ratio).</p>
</div>
</div>
</div>
<div id="discrete-predictor-continuous-outcome" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Discrete Predictor, Continuous Outcome</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-1" aria-hidden="true"></a>group_size &lt;-<span class="st"> </span><span class="dv">20</span></span>
<span id="cb45-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-2" aria-hidden="true"></a>chem_e_scores &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> group_size, <span class="dt">mean =</span> <span class="dv">85</span>, <span class="dt">sd =</span> <span class="dv">4</span>)</span>
<span id="cb45-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-3" aria-hidden="true"></a>chem_scores &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dt">n =</span> group_size, <span class="dt">mean =</span> <span class="dv">78</span>, <span class="dt">sd =</span> <span class="dv">6</span>)</span>
<span id="cb45-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-4" aria-hidden="true"></a></span>
<span id="cb45-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-5" aria-hidden="true"></a></span>
<span id="cb45-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-6" aria-hidden="true"></a>data_df &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb45-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-7" aria-hidden="true"></a>  <span class="dt">discipline =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;ChemE&quot;</span>, <span class="st">&quot;Chemistry&quot;</span>), <span class="dt">each =</span> group_size),</span>
<span id="cb45-8"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-8" aria-hidden="true"></a>  <span class="dt">score =</span> <span class="kw">c</span>(chem_e_scores, chem_scores)</span>
<span id="cb45-9"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-9" aria-hidden="true"></a>)</span>
<span id="cb45-10"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-10" aria-hidden="true"></a></span>
<span id="cb45-11"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-11" aria-hidden="true"></a>data_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb45-12"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> discipline, <span class="dt">y =</span> score)) <span class="op">+</span></span>
<span id="cb45-13"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb45-13" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_boxplot</span>()</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/boxplot-example-1.png" width="672" /></p>
<p>You can make a few modifications to possibly make this easier to read.</p>
<p>The first is to put the discrete category on the y axis instead of the x axis.</p>
<p>The second is to use geom_jitter() in addition to geom_boxplot() to show the individual points in each group.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb46-1" aria-hidden="true"></a>data_df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb46-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb46-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">y =</span> score, <span class="dt">x =</span> discipline)) <span class="op">+</span></span>
<span id="cb46-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb46-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb46-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb46-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_jitter</span>()</span></code></pre></div>
<p><img src="test_course_notes_files/figure-html/box-and-dot-plot-1.png" width="672" /></p>
</div>
<div id="continuous-predictor-and-continuous-outcome" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Continuous predictor and continuous outcome</h2>
<p>First, let’s re-do a lot of the steps in this week’s script for reading in data and transforming it a little</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb47-1" aria-hidden="true"></a>mydata &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;Free Reduced Lunch by Schools and Grade Structures 2008-2017_final.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_character(),
##   div_num = col_double()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb50-1" aria-hidden="true"></a><span class="co"># check the structure of the data (this output is a bit long)</span></span>
<span id="cb50-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb50-2" aria-hidden="true"></a><span class="kw">str</span>(mydata)</span></code></pre></div>
<pre><code>## tibble [2,101 x 137] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ sch_id        : chr [1:2101] &quot;001-0070&quot; &quot;001-0080&quot; &quot;001-0530&quot; &quot;001-0540&quot; ...
##  $ div_num       : num [1:2101] 1 1 1 1 1 1 1 1 1 1 ...
##  $ div_name      : chr [1:2101] &quot;Accomack County&quot; &quot;Accomack County&quot; &quot;Accomack County&quot; &quot;Accomack County&quot; ...
##  $ school_num    : chr [1:2101] &quot;0070&lt;U+00A0&gt;&quot; &quot;0080&lt;U+00A0&gt;&quot; &quot;0530&lt;U+00A0&gt;&quot; &quot;0540&lt;U+00A0&gt;&quot; ...
##  $ school_name   : chr [1:2101] &quot;NANDUA HIGH&quot; &quot;CHINCOTEAGUE ELEM&quot; &quot;TANGIER COMBINED&quot; &quot;ARCADIA HIGH&quot; ...
##  $ school_name2  : chr [1:2101] NA NA NA NA ...
##  $ type0809      : chr [1:2101] &quot;SCH-HIGH&quot; &quot;SCH-ELEM&quot; &quot;SCH-COMB&quot; &quot;SCH-HIGH&quot; ...
##  $ lowgrade_2008 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2008  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2008  : chr [1:2101] &quot;731&quot; &quot;263&quot; &quot;80&quot; &quot;638&quot; ...
##  $ total_2008    : chr [1:2101] &quot;731&quot; &quot;263&quot; &quot;80&quot; &quot;638&quot; ...
##  $ snp_0809      : chr [1:2101] &quot;659&quot; &quot;257&quot; &quot;80&quot; &quot;622&quot; ...
##  $ free_elig_0809: chr [1:2101] &quot;306&quot; &quot;95&quot; &quot;38&quot; &quot;289&quot; ...
##  $ free_per_0809 : chr [1:2101] &quot;46.43%&quot; &quot;36.96%&quot; &quot;47.50%&quot; &quot;46.46%&quot; ...
##  $ red_elig_0809 : chr [1:2101] &quot;64&quot; &quot;8&quot; &quot;0&quot; &quot;56&quot; ...
##  $ red_per_0809  : chr [1:2101] &quot;9.71%&quot; &quot;3.11%&quot; &quot;0.00%&quot; &quot;9.00%&quot; ...
##  $ totalFRL_0809 : chr [1:2101] &quot;370&quot; &quot;103&quot; &quot;38&quot; &quot;345&quot; ...
##  $ totalper_0809 : chr [1:2101] &quot;56.15%&quot; &quot;40.08%&quot; &quot;47.50%&quot; &quot;55.47%&quot; ...
##  $ type0910      : chr [1:2101] &quot;SCH-HIGH&quot; &quot;SCH-ELEM&quot; &quot;SCH-COMB&quot; &quot;SCH-HIGH&quot; ...
##  $ lowgrade_2009 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2009  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2009  : chr [1:2101] &quot;654&quot; &quot;266&quot; &quot;78&quot; &quot;634&quot; ...
##  $ total_2009    : chr [1:2101] &quot;654&quot; &quot;266&quot; &quot;78&quot; &quot;634&quot; ...
##  $ snp_0910      : chr [1:2101] &quot;655&quot; &quot;266&quot; &quot;78&quot; &quot;635&quot; ...
##  $ free_elig_0910: chr [1:2101] &quot;290&quot; &quot;99&quot; &quot;36&quot; &quot;286&quot; ...
##  $ free_per_0910 : chr [1:2101] &quot;44.27%&quot; &quot;37.22%&quot; &quot;46.15%&quot; &quot;45.04%&quot; ...
##  $ red_elig_0910 : chr [1:2101] &quot;37&quot; &quot;14&quot; &quot;0&quot; &quot;66&quot; ...
##  $ red_per_0910  : chr [1:2101] &quot;5.65%&quot; &quot;5.26%&quot; &quot;0.00%&quot; &quot;10.39%&quot; ...
##  $ totalFRL_09010: chr [1:2101] &quot;327&quot; &quot;113&quot; &quot;36&quot; &quot;352&quot; ...
##  $ totalper_0910 : chr [1:2101] &quot;49.92%&quot; &quot;42.48%&quot; &quot;46.15%&quot; &quot;55.43%&quot; ...
##  $ type1011      : chr [1:2101] &quot;SCH-HIGH&quot; &quot;SCH-ELEM&quot; &quot;SCH-COMB&quot; &quot;SCH-HIGH&quot; ...
##  $ lowgrade_2010 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2010  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2010  : chr [1:2101] &quot;603&quot; &quot;268&quot; &quot;74&quot; &quot;614&quot; ...
##  $ total_2010    : chr [1:2101] &quot;603&quot; &quot;268&quot; &quot;74&quot; &quot;614&quot; ...
##  $ snp_1011      : chr [1:2101] &quot;603&quot; &quot;277&quot; &quot;74&quot; &quot;606&quot; ...
##  $ free_elig_1011: chr [1:2101] &quot;285&quot; &quot;108&quot; &quot;32&quot; &quot;308&quot; ...
##  $ free_per_1011 : chr [1:2101] &quot;47.26%&quot; &quot;38.99%&quot; &quot;43.24%&quot; &quot;50.83%&quot; ...
##  $ red_elig_1011 : chr [1:2101] &quot;46&quot; &quot;8&quot; &quot;0&quot; &quot;50&quot; ...
##  $ red_per_1011  : chr [1:2101] &quot;7.63%&quot; &quot;2.89%&quot; &quot;0.00%&quot; &quot;8.25%&quot; ...
##  $ totalFRL_1011 : chr [1:2101] &quot;331&quot; &quot;116&quot; &quot;32&quot; &quot;358&quot; ...
##  $ totalper_1011 : chr [1:2101] &quot;54.89%&quot; &quot;41.88%&quot; &quot;43.24%&quot; &quot;59.08%&quot; ...
##  $ type1112      : chr [1:2101] &quot;SCH-HIGH&quot; &quot;SCH-ELEM&quot; &quot;SCH-COMB&quot; &quot;SCH-HIGH&quot; ...
##  $ lowgrade_2011 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2011  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2011  : chr [1:2101] &quot;593&quot; &quot;276&quot; &quot;73&quot; &quot;605&quot; ...
##  $ total_2011    : chr [1:2101] &quot;593&quot; &quot;276&quot; &quot;73&quot; &quot;605&quot; ...
##  $ snp_1112      : chr [1:2101] &quot;593&quot; &quot;281&quot; &quot;73&quot; &quot;611&quot; ...
##  $ free_elig_1112: chr [1:2101] &quot;289&quot; &quot;116&quot; &quot;31&quot; &quot;318&quot; ...
##  $ free_per_1112 : chr [1:2101] &quot;48.74%&quot; &quot;41.28%&quot; &quot;42.47%&quot; &quot;52.05%&quot; ...
##  $ red_elig_1112 : chr [1:2101] &quot;50&quot; &quot;14&quot; &quot;0&quot; &quot;44&quot; ...
##  $ red_per_1112  : chr [1:2101] &quot;8.43%&quot; &quot;4.98%&quot; &quot;0.00%&quot; &quot;7.20%&quot; ...
##  $ totalFRL_1112 : chr [1:2101] &quot;339&quot; &quot;130&quot; &quot;31&quot; &quot;362&quot; ...
##  $ totalper_1112 : chr [1:2101] &quot;57.17%&quot; &quot;46.26%&quot; &quot;42.47%&quot; &quot;59.25%&quot; ...
##  $ type1213      : chr [1:2101] &quot;SCH-HIGH&quot; &quot;SCH-ELEM&quot; &quot;SCH-COMB&quot; &quot;SCH-HIGH&quot; ...
##  $ lowgrade_2012 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2012  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2012  : chr [1:2101] &quot;637&quot; &quot;258&quot; &quot;68&quot; &quot;579&quot; ...
##  $ total_2012    : chr [1:2101] &quot;637&quot; &quot;258&quot; &quot;68&quot; &quot;579&quot; ...
##  $ snp_1213      : chr [1:2101] &quot;633&quot; &quot;259&quot; &quot;68&quot; &quot;579&quot; ...
##  $ free_elig_1213: chr [1:2101] &quot;324&quot; &quot;117&quot; &quot;21&quot; &quot;348&quot; ...
##  $ free_per_1213 : chr [1:2101] &quot;51.18%&quot; &quot;45.17%&quot; &quot;30.88%&quot; &quot;60.10%&quot; ...
##  $ red_elig_1213 : chr [1:2101] &quot;42&quot; &quot;20&quot; &quot;5&quot; &quot;33&quot; ...
##  $ red_per_1213  : chr [1:2101] &quot;6.64%&quot; &quot;7.72%&quot; &quot;7.35%&quot; &quot;5.70%&quot; ...
##  $ totalFRL_1213 : chr [1:2101] &quot;366&quot; &quot;137&quot; &quot;26&quot; &quot;381&quot; ...
##  $ totalper_1213 : chr [1:2101] &quot;57.82%&quot; &quot;52.90%&quot; &quot;38.24%&quot; &quot;65.80%&quot; ...
##  $ type1314      : chr [1:2101] &quot;SCH-HIGH&quot; &quot;SCH-ELEM&quot; &quot;SCH-COMB&quot; &quot;SCH-HIGH&quot; ...
##  $ lowgrade_2013 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2013  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2013  : chr [1:2101] &quot;670&quot; &quot;238&quot; &quot;66&quot; &quot;582&quot; ...
##  $ total_2013    : chr [1:2101] &quot;670&quot; &quot;238&quot; &quot;66&quot; &quot;582&quot; ...
##  $ snp_1314      : chr [1:2101] &quot;668&quot; &quot;239&quot; &quot;56&quot; &quot;589&quot; ...
##  $ free_elig_1314: chr [1:2101] &quot;346&quot; &quot;102&quot; &quot;12&quot; &quot;347&quot; ...
##  $ free_per_1314 : chr [1:2101] &quot;51.80%&quot; &quot;42.68%&quot; &quot;21.43%&quot; &quot;58.91%&quot; ...
##  $ red_elig_1314 : chr [1:2101] &quot;44&quot; &quot;19&quot; &quot;4&quot; &quot;54&quot; ...
##  $ red_per_1314  : chr [1:2101] &quot;6.59%&quot; &quot;7.95%&quot; &quot;7.14%&quot; &quot;9.17%&quot; ...
##  $ totalFRL_1314 : chr [1:2101] &quot;390&quot; &quot;121&quot; &quot;16&quot; &quot;401&quot; ...
##  $ totalper_1314 : chr [1:2101] &quot;58.38%&quot; &quot;50.63%&quot; &quot;28.57%&quot; &quot;68.08%&quot; ...
##  $ type1415      : chr [1:2101] NA NA NA NA ...
##  $ lowgrade_2014 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2014  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2014  : chr [1:2101] &quot;685&quot; &quot;251&quot; &quot;65&quot; &quot;581&quot; ...
##  $ total_2014    : chr [1:2101] &quot;685&quot; &quot;251&quot; &quot;65&quot; &quot;581&quot; ...
##  $ snp_1415      : chr [1:2101] &quot;672&quot; &quot;239&quot; &quot;61&quot; &quot;586&quot; ...
##  $ free_elig_1415: chr [1:2101] &quot;361&quot; &quot;93&quot; &quot;14&quot; &quot;351&quot; ...
##  $ free_per_1415 : chr [1:2101] &quot;53.72%&quot; &quot;38.91%&quot; &quot;22.95%&quot; &quot;59.90%&quot; ...
##  $ red_elig_1415 : chr [1:2101] &quot;40&quot; &quot;17&quot; &quot;4&quot; &quot;40&quot; ...
##  $ red_per_1415  : chr [1:2101] &quot;5.95%&quot; &quot;7.11%&quot; &quot;6.56%&quot; &quot;6.83%&quot; ...
##  $ totalFRL_1415 : chr [1:2101] &quot;401&quot; &quot;110&quot; &quot;18&quot; &quot;391&quot; ...
##  $ totalper_1415 : chr [1:2101] &quot;59.67%&quot; &quot;46.03%&quot; &quot;29.51%&quot; &quot;66.72%&quot; ...
##  $ CEP_1516      : chr [1:2101] &quot;#NULL!&quot; &quot;#NULL!&quot; &quot;#NULL!&quot; &quot;#NULL!&quot; ...
##  $ type1516      : chr [1:2101] &quot;SCH-HIGH&quot; &quot;SCH-ELEM&quot; &quot;SCH-COMB&quot; &quot;SCH-HIGH&quot; ...
##  $ lowgrade_2015 : chr [1:2101] &quot;9&quot; &quot;PK&quot; &quot;KG&quot; &quot;9&quot; ...
##  $ higrade_2015  : chr [1:2101] &quot;12&quot; &quot;5&quot; &quot;12&quot; &quot;12&quot; ...
##  $ totalFT_2015  : chr [1:2101] &quot;737&quot; &quot;259&quot; &quot;65&quot; &quot;621&quot; ...
##  $ total_2015    : chr [1:2101] &quot;737&quot; &quot;259&quot; &quot;65&quot; &quot;621&quot; ...
##  $ snp_1516      : chr [1:2101] &quot;728&quot; &quot;268&quot; &quot;67&quot; &quot;608&quot; ...
##  $ free_elig_1516: chr [1:2101] &quot;362&quot; &quot;109&quot; &quot;12&quot; &quot;339&quot; ...
##  $ free_per_1516 : chr [1:2101] &quot;49.73%&quot; &quot;40.67%&quot; &quot;17.91%&quot; &quot;55.76%&quot; ...
##   [list output truncated]
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   sch_id = col_character(),
##   ..   div_num = col_double(),
##   ..   div_name = col_character(),
##   ..   school_num = col_character(),
##   ..   school_name = col_character(),
##   ..   school_name2 = col_character(),
##   ..   type0809 = col_character(),
##   ..   lowgrade_2008 = col_character(),
##   ..   higrade_2008 = col_character(),
##   ..   totalFT_2008 = col_character(),
##   ..   total_2008 = col_character(),
##   ..   snp_0809 = col_character(),
##   ..   free_elig_0809 = col_character(),
##   ..   free_per_0809 = col_character(),
##   ..   red_elig_0809 = col_character(),
##   ..   red_per_0809 = col_character(),
##   ..   totalFRL_0809 = col_character(),
##   ..   totalper_0809 = col_character(),
##   ..   type0910 = col_character(),
##   ..   lowgrade_2009 = col_character(),
##   ..   higrade_2009 = col_character(),
##   ..   totalFT_2009 = col_character(),
##   ..   total_2009 = col_character(),
##   ..   snp_0910 = col_character(),
##   ..   free_elig_0910 = col_character(),
##   ..   free_per_0910 = col_character(),
##   ..   red_elig_0910 = col_character(),
##   ..   red_per_0910 = col_character(),
##   ..   totalFRL_09010 = col_character(),
##   ..   totalper_0910 = col_character(),
##   ..   type1011 = col_character(),
##   ..   lowgrade_2010 = col_character(),
##   ..   higrade_2010 = col_character(),
##   ..   totalFT_2010 = col_character(),
##   ..   total_2010 = col_character(),
##   ..   snp_1011 = col_character(),
##   ..   free_elig_1011 = col_character(),
##   ..   free_per_1011 = col_character(),
##   ..   red_elig_1011 = col_character(),
##   ..   red_per_1011 = col_character(),
##   ..   totalFRL_1011 = col_character(),
##   ..   totalper_1011 = col_character(),
##   ..   type1112 = col_character(),
##   ..   lowgrade_2011 = col_character(),
##   ..   higrade_2011 = col_character(),
##   ..   totalFT_2011 = col_character(),
##   ..   total_2011 = col_character(),
##   ..   snp_1112 = col_character(),
##   ..   free_elig_1112 = col_character(),
##   ..   free_per_1112 = col_character(),
##   ..   red_elig_1112 = col_character(),
##   ..   red_per_1112 = col_character(),
##   ..   totalFRL_1112 = col_character(),
##   ..   totalper_1112 = col_character(),
##   ..   type1213 = col_character(),
##   ..   lowgrade_2012 = col_character(),
##   ..   higrade_2012 = col_character(),
##   ..   totalFT_2012 = col_character(),
##   ..   total_2012 = col_character(),
##   ..   snp_1213 = col_character(),
##   ..   free_elig_1213 = col_character(),
##   ..   free_per_1213 = col_character(),
##   ..   red_elig_1213 = col_character(),
##   ..   red_per_1213 = col_character(),
##   ..   totalFRL_1213 = col_character(),
##   ..   totalper_1213 = col_character(),
##   ..   type1314 = col_character(),
##   ..   lowgrade_2013 = col_character(),
##   ..   higrade_2013 = col_character(),
##   ..   totalFT_2013 = col_character(),
##   ..   total_2013 = col_character(),
##   ..   snp_1314 = col_character(),
##   ..   free_elig_1314 = col_character(),
##   ..   free_per_1314 = col_character(),
##   ..   red_elig_1314 = col_character(),
##   ..   red_per_1314 = col_character(),
##   ..   totalFRL_1314 = col_character(),
##   ..   totalper_1314 = col_character(),
##   ..   type1415 = col_character(),
##   ..   lowgrade_2014 = col_character(),
##   ..   higrade_2014 = col_character(),
##   ..   totalFT_2014 = col_character(),
##   ..   total_2014 = col_character(),
##   ..   snp_1415 = col_character(),
##   ..   free_elig_1415 = col_character(),
##   ..   free_per_1415 = col_character(),
##   ..   red_elig_1415 = col_character(),
##   ..   red_per_1415 = col_character(),
##   ..   totalFRL_1415 = col_character(),
##   ..   totalper_1415 = col_character(),
##   ..   CEP_1516 = col_character(),
##   ..   type1516 = col_character(),
##   ..   lowgrade_2015 = col_character(),
##   ..   higrade_2015 = col_character(),
##   ..   totalFT_2015 = col_character(),
##   ..   total_2015 = col_character(),
##   ..   snp_1516 = col_character(),
##   ..   free_elig_1516 = col_character(),
##   ..   free_per_1516 = col_character(),
##   ..   red_elig_1516 = col_character(),
##   ..   red_Per_1516 = col_character(),
##   ..   totalFRL_1516 = col_character(),
##   ..   totalper_1516 = col_character(),
##   ..   CEP_1617 = col_character(),
##   ..   type1617 = col_character(),
##   ..   lowgrade_2016 = col_character(),
##   ..   higrade_2016 = col_character(),
##   ..   totalFT_2016 = col_character(),
##   ..   total_2016 = col_character(),
##   ..   snp_2016 = col_character(),
##   ..   free_elig_1617 = col_character(),
##   ..   free_per_1617 = col_character(),
##   ..   red_elig_1617 = col_character(),
##   ..   red_per_1617 = col_character(),
##   ..   totalFRL_1617 = col_character(),
##   ..   totalper_1617 = col_character(),
##   ..   CEP_1718 = col_character(),
##   ..   type1718 = col_character(),
##   ..   lowgrade_2017 = col_character(),
##   ..   higrade_2017 = col_character(),
##   ..   totalFT_2017 = col_character(),
##   ..   total_2017 = col_character(),
##   ..   snp_1718 = col_character(),
##   ..   free_elig_1718 = col_character(),
##   ..   free_per_1718 = col_character(),
##   ..   red_elig_1718 = col_character(),
##   ..   red_per_1718 = col_character(),
##   ..   totalFRL_1718 = col_character(),
##   ..   totalper_1718 = col_character(),
##   ..   stable = col_character(),
##   ..   new = col_character(),
##   ..   closed = col_character(),
##   ..   close_yr = col_character(),
##   ..   reuseid = col_character(),
##   ..   gradechg = col_character(),
##   ..   gradechg_yr = col_character(),
##   ..   grchgyr_2 = col_character()
##   .. )</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb52-1" aria-hidden="true"></a><span class="kw">str</span>(mydata<span class="op">$</span>total_<span class="dv">2017</span>)</span></code></pre></div>
<pre><code>##  chr [1:2101] &quot;742&quot; &quot;236&quot; &quot;60&quot; &quot;624&quot; &quot;286&quot; &quot;485&quot; &quot;583&quot; &quot;550&quot; &quot;600&quot; &quot;514&quot; &quot;519&quot; &quot;468&quot; &quot;351&quot; &quot;264&quot; ...</code></pre>
<p><strong>NOTE:</strong> When you have a lot of variables, running this str() function is not a great idea - the output is a little too cumbersome</p>
</div>
<div id="mutating-variables" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Mutating Variables</h2>
<p>Note that almost all of the data reads in as a “character” data type which are just strings,
This can create issues.</p>
<p>We know that many of the columns are actually storing numbers or “numeric” values as R refers to them.
We need to fix this.</p>
<p>Let’s tell R that these columns (at least the two we are going to use) are numeric.</p>
<p>We are going to see two interchangeable ways to do this.</p>
<p>First, we use the $ operator which lets me specify a specific column within my data frame in combination with the as.numeric() function</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb54-1" aria-hidden="true"></a>mydata<span class="op">$</span>total_<span class="dv">2017</span>&lt;-<span class="kw">as.numeric</span>(mydata<span class="op">$</span>total_<span class="dv">2017</span>)</span>
<span id="cb54-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb54-2" aria-hidden="true"></a>mydata<span class="op">$</span>totalFRL_<span class="dv">1718</span>&lt;-<span class="kw">as.numeric</span>(mydata<span class="op">$</span>totalFRL_<span class="dv">1718</span>)</span></code></pre></div>
<p>Some columns have a percent symbol, which you will need to remove before coercing to numeric data type</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb55-1" aria-hidden="true"></a>mydata &lt;-<span class="st"> </span>mydata <span class="op">%&gt;%</span></span>
<span id="cb55-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb55-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">totalper_0809 =</span> <span class="kw">str_remove</span>(totalper_<span class="dv">0809</span>, <span class="st">&quot;%&quot;</span>))</span></code></pre></div>
<p>Then we can change the column from character to numeric</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb56-1" aria-hidden="true"></a>mydata<span class="op">$</span>totalper_<span class="dv">0809</span> &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(mydata<span class="op">$</span>totalper_<span class="dv">0809</span>)</span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<p>Check to make sure it converted the column type correctly using <code>str()</code>.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb58-1" aria-hidden="true"></a><span class="kw">str</span>(mydata<span class="op">$</span>totalper_<span class="dv">0809</span>)</span></code></pre></div>
<pre><code>##  num [1:2101] 56.1 40.1 47.5 55.5 33.4 ...</code></pre>
<p>Second, alternatively, we can do this for a whole set of variables at once. We just need to specify a matching criteria.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb60-1" aria-hidden="true"></a>newdf &lt;-<span class="st"> </span>mydata <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb60-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb60-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(<span class="kw">starts_with</span>(<span class="st">&quot;total&quot;</span>)), as.numeric)</span></code></pre></div>
<pre><code>## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion

## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb62-1" aria-hidden="true"></a>newdf &lt;-<span class="st"> </span>newdf <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb62-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb62-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(<span class="kw">starts_with</span>(<span class="st">&quot;totalFRL&quot;</span>)), as.numeric)</span></code></pre></div>
<p>Check whether the old and new variables are stored differently (old as a character, new as a numeric variable)</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb63-1" aria-hidden="true"></a><span class="kw">str</span>(mydata<span class="op">$</span>total_<span class="dv">2008</span>)</span></code></pre></div>
<pre><code>##  chr [1:2101] &quot;731&quot; &quot;263&quot; &quot;80&quot; &quot;638&quot; &quot;333&quot; &quot;536&quot; &quot;610&quot; &quot;490&quot; &quot;585&quot; &quot;450&quot; &quot;477&quot; &quot;502&quot; &quot;359&quot; &quot;187&quot; ...</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb65-1" aria-hidden="true"></a><span class="kw">str</span>(newdf<span class="op">$</span>total_<span class="dv">2008</span>)</span></code></pre></div>
<pre><code>##  num [1:2101] 731 263 80 638 333 536 610 490 585 450 ...</code></pre>
</div>
<div id="filtering-and-selecting" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Filtering and Selecting</h2>
<p>A basic operation we do a lot is to filter the data so that we are working with a subset of all that we have.</p>
<p>We can do this with the filter() function, part of the dplyr package (in the tidyverse collection of packages).</p>
<p>Let’s say we want to look at the schools with div_num values less than 50.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb67-1" aria-hidden="true"></a>newdf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(div_num <span class="op">&lt;</span><span class="st"> </span><span class="dv">50</span>)</span></code></pre></div>
<pre><code>## # A tibble: 800 x 137
##    sch_id div_num div_name school_num school_name school_name2 type0809 lowgrade_2008 higrade_2008
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;       
##  1 001-0~       1 Accomac~ &quot;0070\xa0&quot; NANDUA HIGH &lt;NA&gt;         SCH-HIGH 9             12          
##  2 001-0~       1 Accomac~ &quot;0080\xa0&quot; CHINCOTEAG~ &lt;NA&gt;         SCH-ELEM PK            5           
##  3 001-0~       1 Accomac~ &quot;0530\xa0&quot; TANGIER CO~ &lt;NA&gt;         SCH-COMB KG            12          
##  4 001-0~       1 Accomac~ &quot;0540\xa0&quot; ARCADIA HI~ &lt;NA&gt;         SCH-HIGH 9             12          
##  5 001-0~       1 Accomac~ &quot;0580\xa0&quot; CHINCOTEAG~ &lt;NA&gt;         SCH-COMB 6             12          
##  6 001-0~       1 Accomac~ &quot;0590\xa0&quot; PUNGOTEAGU~ &lt;NA&gt;         SCH-ELEM PK            5           
##  7 001-0~       1 Accomac~ &quot;0600\xa0&quot; KEGOTANK E~ &lt;NA&gt;         SCH-ELEM PK            5           
##  8 001-0~       1 Accomac~ &quot;0701\xa0&quot; ACCAWMACKE~ &lt;NA&gt;         SCH-ELEM PK            5           
##  9 001-0~       1 Accomac~ &quot;0702\xa0&quot; METOMPKIN ~ &lt;NA&gt;         SCH-ELEM PK            5           
## 10 001-0~       1 Accomac~ &quot;0703\xa0&quot; NANDUA MID~ &lt;NA&gt;         SCH-MID  6             8           
## # ... with 790 more rows, and 128 more variables: totalFT_2008 &lt;dbl&gt;, total_2008 &lt;dbl&gt;, snp_0809 &lt;chr&gt;,
## #   free_elig_0809 &lt;chr&gt;, free_per_0809 &lt;chr&gt;, red_elig_0809 &lt;chr&gt;, red_per_0809 &lt;chr&gt;,
## #   totalFRL_0809 &lt;dbl&gt;, totalper_0809 &lt;dbl&gt;, type0910 &lt;chr&gt;, lowgrade_2009 &lt;chr&gt;, higrade_2009 &lt;chr&gt;,
## #   totalFT_2009 &lt;dbl&gt;, total_2009 &lt;dbl&gt;, snp_0910 &lt;chr&gt;, free_elig_0910 &lt;chr&gt;, free_per_0910 &lt;chr&gt;,
## #   red_elig_0910 &lt;chr&gt;, red_per_0910 &lt;chr&gt;, totalFRL_09010 &lt;dbl&gt;, totalper_0910 &lt;dbl&gt;, type1011 &lt;chr&gt;,
## #   lowgrade_2010 &lt;chr&gt;, higrade_2010 &lt;chr&gt;, totalFT_2010 &lt;dbl&gt;, total_2010 &lt;dbl&gt;, snp_1011 &lt;chr&gt;,
## #   free_elig_1011 &lt;chr&gt;, free_per_1011 &lt;chr&gt;, red_elig_1011 &lt;chr&gt;, red_per_1011 &lt;chr&gt;,
## #   totalFRL_1011 &lt;dbl&gt;, totalper_1011 &lt;dbl&gt;, type1112 &lt;chr&gt;, lowgrade_2011 &lt;chr&gt;, higrade_2011 &lt;chr&gt;,
## #   totalFT_2011 &lt;dbl&gt;, total_2011 &lt;dbl&gt;, snp_1112 &lt;chr&gt;, free_elig_1112 &lt;chr&gt;, free_per_1112 &lt;chr&gt;,
## #   red_elig_1112 &lt;chr&gt;, red_per_1112 &lt;chr&gt;, totalFRL_1112 &lt;dbl&gt;, totalper_1112 &lt;dbl&gt;, type1213 &lt;chr&gt;,
## #   lowgrade_2012 &lt;chr&gt;, higrade_2012 &lt;chr&gt;, totalFT_2012 &lt;dbl&gt;, total_2012 &lt;dbl&gt;, snp_1213 &lt;chr&gt;,
## #   free_elig_1213 &lt;chr&gt;, free_per_1213 &lt;chr&gt;, red_elig_1213 &lt;chr&gt;, red_per_1213 &lt;chr&gt;,
## #   totalFRL_1213 &lt;dbl&gt;, totalper_1213 &lt;dbl&gt;, type1314 &lt;chr&gt;, lowgrade_2013 &lt;chr&gt;, higrade_2013 &lt;chr&gt;,
## #   totalFT_2013 &lt;dbl&gt;, total_2013 &lt;dbl&gt;, snp_1314 &lt;chr&gt;, free_elig_1314 &lt;chr&gt;, free_per_1314 &lt;chr&gt;,
## #   red_elig_1314 &lt;chr&gt;, red_per_1314 &lt;chr&gt;, totalFRL_1314 &lt;dbl&gt;, totalper_1314 &lt;dbl&gt;, type1415 &lt;chr&gt;,
## #   lowgrade_2014 &lt;chr&gt;, higrade_2014 &lt;chr&gt;, totalFT_2014 &lt;dbl&gt;, total_2014 &lt;dbl&gt;, snp_1415 &lt;chr&gt;,
## #   free_elig_1415 &lt;chr&gt;, free_per_1415 &lt;chr&gt;, red_elig_1415 &lt;chr&gt;, red_per_1415 &lt;chr&gt;,
## #   totalFRL_1415 &lt;dbl&gt;, totalper_1415 &lt;dbl&gt;, CEP_1516 &lt;chr&gt;, type1516 &lt;chr&gt;, lowgrade_2015 &lt;chr&gt;,
## #   higrade_2015 &lt;chr&gt;, totalFT_2015 &lt;dbl&gt;, total_2015 &lt;dbl&gt;, snp_1516 &lt;chr&gt;, free_elig_1516 &lt;chr&gt;,
## #   free_per_1516 &lt;chr&gt;, red_elig_1516 &lt;chr&gt;, red_Per_1516 &lt;chr&gt;, totalFRL_1516 &lt;dbl&gt;,
## #   totalper_1516 &lt;dbl&gt;, CEP_1617 &lt;chr&gt;, type1617 &lt;chr&gt;, lowgrade_2016 &lt;chr&gt;, higrade_2016 &lt;chr&gt;,
## #   totalFT_2016 &lt;dbl&gt;, total_2016 &lt;dbl&gt;, ...</code></pre>
<p>Or, if we want to look at schools where the highest grade in 2008 was grade five, we can try:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb69-1" aria-hidden="true"></a>newdf <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(higrade_<span class="dv">2008</span> <span class="op">==</span><span class="st"> &quot;5&quot;</span>) <span class="co"># this returns a subsetted dataframe with 878 rows</span></span></code></pre></div>
<pre><code>## # A tibble: 878 x 137
##    sch_id div_num div_name school_num school_name school_name2 type0809 lowgrade_2008 higrade_2008
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;       
##  1 001-0~       1 Accomac~ &quot;0080\xa0&quot; CHINCOTEAG~ &lt;NA&gt;         SCH-ELEM PK            5           
##  2 001-0~       1 Accomac~ &quot;0590\xa0&quot; PUNGOTEAGU~ &lt;NA&gt;         SCH-ELEM PK            5           
##  3 001-0~       1 Accomac~ &quot;0600\xa0&quot; KEGOTANK E~ &lt;NA&gt;         SCH-ELEM PK            5           
##  4 001-0~       1 Accomac~ &quot;0701\xa0&quot; ACCAWMACKE~ &lt;NA&gt;         SCH-ELEM PK            5           
##  5 001-0~       1 Accomac~ &quot;0702\xa0&quot; METOMPKIN ~ &lt;NA&gt;         SCH-ELEM PK            5           
##  6 002-0~       2 Albemar~ &quot;0010\xa0&quot; HOLLYMEAD ~ &lt;NA&gt;         SCH-ELEM PK            5           
##  7 002-0~       2 Albemar~ &quot;0030\xa0&quot; SCOTTSVILL~ &lt;NA&gt;         SCH-ELEM PK            5           
##  8 002-0~       2 Albemar~ &quot;0040\xa0&quot; MARY CARR ~ &lt;NA&gt;         SCH-ELEM PK            5           
##  9 002-0~       2 Albemar~ &quot;0100\xa0&quot; BROADUS WO~ &lt;NA&gt;         SCH-ELEM PK            5           
## 10 002-0~       2 Albemar~ &quot;0150\xa0&quot; PAUL H CAL~ &lt;NA&gt;         SCH-ELEM PK            5           
## # ... with 868 more rows, and 128 more variables: totalFT_2008 &lt;dbl&gt;, total_2008 &lt;dbl&gt;, snp_0809 &lt;chr&gt;,
## #   free_elig_0809 &lt;chr&gt;, free_per_0809 &lt;chr&gt;, red_elig_0809 &lt;chr&gt;, red_per_0809 &lt;chr&gt;,
## #   totalFRL_0809 &lt;dbl&gt;, totalper_0809 &lt;dbl&gt;, type0910 &lt;chr&gt;, lowgrade_2009 &lt;chr&gt;, higrade_2009 &lt;chr&gt;,
## #   totalFT_2009 &lt;dbl&gt;, total_2009 &lt;dbl&gt;, snp_0910 &lt;chr&gt;, free_elig_0910 &lt;chr&gt;, free_per_0910 &lt;chr&gt;,
## #   red_elig_0910 &lt;chr&gt;, red_per_0910 &lt;chr&gt;, totalFRL_09010 &lt;dbl&gt;, totalper_0910 &lt;dbl&gt;, type1011 &lt;chr&gt;,
## #   lowgrade_2010 &lt;chr&gt;, higrade_2010 &lt;chr&gt;, totalFT_2010 &lt;dbl&gt;, total_2010 &lt;dbl&gt;, snp_1011 &lt;chr&gt;,
## #   free_elig_1011 &lt;chr&gt;, free_per_1011 &lt;chr&gt;, red_elig_1011 &lt;chr&gt;, red_per_1011 &lt;chr&gt;,
## #   totalFRL_1011 &lt;dbl&gt;, totalper_1011 &lt;dbl&gt;, type1112 &lt;chr&gt;, lowgrade_2011 &lt;chr&gt;, higrade_2011 &lt;chr&gt;,
## #   totalFT_2011 &lt;dbl&gt;, total_2011 &lt;dbl&gt;, snp_1112 &lt;chr&gt;, free_elig_1112 &lt;chr&gt;, free_per_1112 &lt;chr&gt;,
## #   red_elig_1112 &lt;chr&gt;, red_per_1112 &lt;chr&gt;, totalFRL_1112 &lt;dbl&gt;, totalper_1112 &lt;dbl&gt;, type1213 &lt;chr&gt;,
## #   lowgrade_2012 &lt;chr&gt;, higrade_2012 &lt;chr&gt;, totalFT_2012 &lt;dbl&gt;, total_2012 &lt;dbl&gt;, snp_1213 &lt;chr&gt;,
## #   free_elig_1213 &lt;chr&gt;, free_per_1213 &lt;chr&gt;, red_elig_1213 &lt;chr&gt;, red_per_1213 &lt;chr&gt;,
## #   totalFRL_1213 &lt;dbl&gt;, totalper_1213 &lt;dbl&gt;, type1314 &lt;chr&gt;, lowgrade_2013 &lt;chr&gt;, higrade_2013 &lt;chr&gt;,
## #   totalFT_2013 &lt;dbl&gt;, total_2013 &lt;dbl&gt;, snp_1314 &lt;chr&gt;, free_elig_1314 &lt;chr&gt;, free_per_1314 &lt;chr&gt;,
## #   red_elig_1314 &lt;chr&gt;, red_per_1314 &lt;chr&gt;, totalFRL_1314 &lt;dbl&gt;, totalper_1314 &lt;dbl&gt;, type1415 &lt;chr&gt;,
## #   lowgrade_2014 &lt;chr&gt;, higrade_2014 &lt;chr&gt;, totalFT_2014 &lt;dbl&gt;, total_2014 &lt;dbl&gt;, snp_1415 &lt;chr&gt;,
## #   free_elig_1415 &lt;chr&gt;, free_per_1415 &lt;chr&gt;, red_elig_1415 &lt;chr&gt;, red_per_1415 &lt;chr&gt;,
## #   totalFRL_1415 &lt;dbl&gt;, totalper_1415 &lt;dbl&gt;, CEP_1516 &lt;chr&gt;, type1516 &lt;chr&gt;, lowgrade_2015 &lt;chr&gt;,
## #   higrade_2015 &lt;chr&gt;, totalFT_2015 &lt;dbl&gt;, total_2015 &lt;dbl&gt;, snp_1516 &lt;chr&gt;, free_elig_1516 &lt;chr&gt;,
## #   free_per_1516 &lt;chr&gt;, red_elig_1516 &lt;chr&gt;, red_Per_1516 &lt;chr&gt;, totalFRL_1516 &lt;dbl&gt;,
## #   totalper_1516 &lt;dbl&gt;, CEP_1617 &lt;chr&gt;, type1617 &lt;chr&gt;, lowgrade_2016 &lt;chr&gt;, higrade_2016 &lt;chr&gt;,
## #   totalFT_2016 &lt;dbl&gt;, total_2016 &lt;dbl&gt;, ...</code></pre>
<p>Note that we had to set it equal to the character value “5” rather than the numeric value 5. Why?</p>
<p>If we wanted to filter on numeric values instead, we would want to do something like this:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb71-1" aria-hidden="true"></a>newdf <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb71-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb71-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">higrade_2008 =</span> <span class="kw">as.numeric</span>(higrade_<span class="dv">2008</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb71-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb71-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(higrade_<span class="dv">2008</span> <span class="op">==</span><span class="st"> </span><span class="dv">5</span>) <span class="co"># again, this returns a subsetted dataframe with 878 rows</span></span></code></pre></div>
<pre><code>## Warning in mask$eval_all_mutate(dots[[i]]): NAs introduced by coercion</code></pre>
<pre><code>## # A tibble: 878 x 137
##    sch_id div_num div_name school_num school_name school_name2 type0809 lowgrade_2008 higrade_2008
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;                &lt;dbl&gt;
##  1 001-0~       1 Accomac~ &quot;0080\xa0&quot; CHINCOTEAG~ &lt;NA&gt;         SCH-ELEM PK                       5
##  2 001-0~       1 Accomac~ &quot;0590\xa0&quot; PUNGOTEAGU~ &lt;NA&gt;         SCH-ELEM PK                       5
##  3 001-0~       1 Accomac~ &quot;0600\xa0&quot; KEGOTANK E~ &lt;NA&gt;         SCH-ELEM PK                       5
##  4 001-0~       1 Accomac~ &quot;0701\xa0&quot; ACCAWMACKE~ &lt;NA&gt;         SCH-ELEM PK                       5
##  5 001-0~       1 Accomac~ &quot;0702\xa0&quot; METOMPKIN ~ &lt;NA&gt;         SCH-ELEM PK                       5
##  6 002-0~       2 Albemar~ &quot;0010\xa0&quot; HOLLYMEAD ~ &lt;NA&gt;         SCH-ELEM PK                       5
##  7 002-0~       2 Albemar~ &quot;0030\xa0&quot; SCOTTSVILL~ &lt;NA&gt;         SCH-ELEM PK                       5
##  8 002-0~       2 Albemar~ &quot;0040\xa0&quot; MARY CARR ~ &lt;NA&gt;         SCH-ELEM PK                       5
##  9 002-0~       2 Albemar~ &quot;0100\xa0&quot; BROADUS WO~ &lt;NA&gt;         SCH-ELEM PK                       5
## 10 002-0~       2 Albemar~ &quot;0150\xa0&quot; PAUL H CAL~ &lt;NA&gt;         SCH-ELEM PK                       5
## # ... with 868 more rows, and 128 more variables: totalFT_2008 &lt;dbl&gt;, total_2008 &lt;dbl&gt;, snp_0809 &lt;chr&gt;,
## #   free_elig_0809 &lt;chr&gt;, free_per_0809 &lt;chr&gt;, red_elig_0809 &lt;chr&gt;, red_per_0809 &lt;chr&gt;,
## #   totalFRL_0809 &lt;dbl&gt;, totalper_0809 &lt;dbl&gt;, type0910 &lt;chr&gt;, lowgrade_2009 &lt;chr&gt;, higrade_2009 &lt;chr&gt;,
## #   totalFT_2009 &lt;dbl&gt;, total_2009 &lt;dbl&gt;, snp_0910 &lt;chr&gt;, free_elig_0910 &lt;chr&gt;, free_per_0910 &lt;chr&gt;,
## #   red_elig_0910 &lt;chr&gt;, red_per_0910 &lt;chr&gt;, totalFRL_09010 &lt;dbl&gt;, totalper_0910 &lt;dbl&gt;, type1011 &lt;chr&gt;,
## #   lowgrade_2010 &lt;chr&gt;, higrade_2010 &lt;chr&gt;, totalFT_2010 &lt;dbl&gt;, total_2010 &lt;dbl&gt;, snp_1011 &lt;chr&gt;,
## #   free_elig_1011 &lt;chr&gt;, free_per_1011 &lt;chr&gt;, red_elig_1011 &lt;chr&gt;, red_per_1011 &lt;chr&gt;,
## #   totalFRL_1011 &lt;dbl&gt;, totalper_1011 &lt;dbl&gt;, type1112 &lt;chr&gt;, lowgrade_2011 &lt;chr&gt;, higrade_2011 &lt;chr&gt;,
## #   totalFT_2011 &lt;dbl&gt;, total_2011 &lt;dbl&gt;, snp_1112 &lt;chr&gt;, free_elig_1112 &lt;chr&gt;, free_per_1112 &lt;chr&gt;,
## #   red_elig_1112 &lt;chr&gt;, red_per_1112 &lt;chr&gt;, totalFRL_1112 &lt;dbl&gt;, totalper_1112 &lt;dbl&gt;, type1213 &lt;chr&gt;,
## #   lowgrade_2012 &lt;chr&gt;, higrade_2012 &lt;chr&gt;, totalFT_2012 &lt;dbl&gt;, total_2012 &lt;dbl&gt;, snp_1213 &lt;chr&gt;,
## #   free_elig_1213 &lt;chr&gt;, free_per_1213 &lt;chr&gt;, red_elig_1213 &lt;chr&gt;, red_per_1213 &lt;chr&gt;,
## #   totalFRL_1213 &lt;dbl&gt;, totalper_1213 &lt;dbl&gt;, type1314 &lt;chr&gt;, lowgrade_2013 &lt;chr&gt;, higrade_2013 &lt;chr&gt;,
## #   totalFT_2013 &lt;dbl&gt;, total_2013 &lt;dbl&gt;, snp_1314 &lt;chr&gt;, free_elig_1314 &lt;chr&gt;, free_per_1314 &lt;chr&gt;,
## #   red_elig_1314 &lt;chr&gt;, red_per_1314 &lt;chr&gt;, totalFRL_1314 &lt;dbl&gt;, totalper_1314 &lt;dbl&gt;, type1415 &lt;chr&gt;,
## #   lowgrade_2014 &lt;chr&gt;, higrade_2014 &lt;chr&gt;, totalFT_2014 &lt;dbl&gt;, total_2014 &lt;dbl&gt;, snp_1415 &lt;chr&gt;,
## #   free_elig_1415 &lt;chr&gt;, free_per_1415 &lt;chr&gt;, red_elig_1415 &lt;chr&gt;, red_per_1415 &lt;chr&gt;,
## #   totalFRL_1415 &lt;dbl&gt;, totalper_1415 &lt;dbl&gt;, CEP_1516 &lt;chr&gt;, type1516 &lt;chr&gt;, lowgrade_2015 &lt;chr&gt;,
## #   higrade_2015 &lt;chr&gt;, totalFT_2015 &lt;dbl&gt;, total_2015 &lt;dbl&gt;, snp_1516 &lt;chr&gt;, free_elig_1516 &lt;chr&gt;,
## #   free_per_1516 &lt;chr&gt;, red_elig_1516 &lt;chr&gt;, red_Per_1516 &lt;chr&gt;, totalFRL_1516 &lt;dbl&gt;,
## #   totalper_1516 &lt;dbl&gt;, CEP_1617 &lt;chr&gt;, type1617 &lt;chr&gt;, lowgrade_2016 &lt;chr&gt;, higrade_2016 &lt;chr&gt;,
## #   totalFT_2016 &lt;dbl&gt;, total_2016 &lt;dbl&gt;, ...</code></pre>
</div>
<div id="grouping-and-summarizing" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Grouping and Summarizing</h2>
<p>Let’s shift gears to a different combination of operations…</p>
<p>Let’s go ahead and try using tidyverse to narrow to what we want.
Imagine we want to see the county level aggregate numbers for FRL in the 2017-2018 school year.</p>
<p>We will start out with our entire data frame and then use pipes (the %&gt;% operator) to work from there.
The final result will be stored in our new data frame that we are creating, called county_level_aggregate.</p>
<p>First, select will pick columns
Next, group_by and summarize work together to get us our aggregate totals.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb74-1" aria-hidden="true"></a>county_level_aggregate &lt;-<span class="st"> </span>newdf <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb74-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">select</span>(div_name, total_<span class="dv">2017</span>, totalFRL_<span class="dv">1718</span>) <span class="op">%&gt;%</span></span>
<span id="cb74-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb74-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(div_name) <span class="op">%&gt;%</span></span>
<span id="cb74-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb74-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">totalstudents =</span> <span class="kw">sum</span>(total_<span class="dv">2017</span>), </span>
<span id="cb74-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb74-5" aria-hidden="true"></a>            <span class="dt">totalFRL =</span> <span class="kw">sum</span>(totalFRL_<span class="dv">1718</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p>Now, we can compute percentages if we like and we can specify a new column by referring to. One that doesn’t exist yet but will after we run this code. We will do this two interchangeable ways.</p>
<p>First, the old school way:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb76-1" aria-hidden="true"></a>county_level_aggregate<span class="op">$</span>percent_FRL &lt;-<span class="st"> </span>county_level_aggregate<span class="op">$</span>totalFRL<span class="op">/</span>county_level_aggregate<span class="op">$</span>totalstudents<span class="op">*</span><span class="dv">100</span></span></code></pre></div>
<p>Second, the tidyverse way:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb77-1" aria-hidden="true"></a>county_level_aggregate &lt;-<span class="st"> </span>county_level_aggregate <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb77-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb77-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">percent_frl =</span> totalFRL <span class="op">/</span><span class="st"> </span>totalstudents <span class="op">*</span><span class="st"> </span><span class="dv">100</span>)</span></code></pre></div>
<p>Just for fun, let’s see how this could have been incorporated into our summarize call</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb78-1" aria-hidden="true"></a>county_level_percents &lt;-<span class="st"> </span>newdf <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb78-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb78-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">select</span>(div_name, total_<span class="dv">2017</span>, totalFRL_<span class="dv">1718</span>) <span class="op">%&gt;%</span></span>
<span id="cb78-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb78-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(div_name) <span class="op">%&gt;%</span></span>
<span id="cb78-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb78-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">percentFRL=</span><span class="kw">sum</span>(totalFRL_<span class="dv">1718</span>)<span class="op">/</span><span class="kw">sum</span>(total_<span class="dv">2017</span>) <span class="op">*</span><span class="st"> </span><span class="dv">100</span>)</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p>Something is going to look weird with this plot</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb80-1" aria-hidden="true"></a>newdf <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb80-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb80-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(totalFRL_<span class="dv">0809</span>, totalFT_<span class="dv">2008</span>)) <span class="op">+</span></span>
<span id="cb80-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb80-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb80-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb80-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;FRL 2008&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;totalFRL_0809&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 236 rows containing missing values (geom_point).</code></pre>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>Let’s see if we can fix it</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-1" aria-hidden="true"></a>newdf <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb82-2"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(totalFRL_<span class="dv">0809</span>)) <span class="op">%&gt;%</span></span>
<span id="cb82-3"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(totalFRL_<span class="dv">0809</span>, totalFT_<span class="dv">2008</span>)) <span class="op">+</span></span>
<span id="cb82-4"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb82-5"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;FRL 2008&quot;</span>, </span>
<span id="cb82-6"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-6" aria-hidden="true"></a>       <span class="dt">x =</span> <span class="st">&quot;totalFRL_0809&quot;</span>) <span class="op">+</span></span>
<span id="cb82-7"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">xlim</span>(<span class="dv">0</span>, <span class="dv">1000</span>) <span class="op">+</span></span>
<span id="cb82-8"><a href="week-3-data-cleaning-organizing-describing-and-communicating.html#cb82-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 324 rows containing missing values (geom_point).</code></pre>
<p><img src="test_course_notes_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week-2-intro-stats-data-distributions-intro-r-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="applications.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["test_course_notes.pdf", "test_course_notes.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
